    template<typename Value_t>
    inline const Value_t& fp_max(const Value_t& d1, const Value_t& d2)
    {
        return d1>d2 ? d1 : d2;
    }
